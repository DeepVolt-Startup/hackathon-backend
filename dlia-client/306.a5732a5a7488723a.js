"use strict";(self.webpackChunkDLIA_client=self.webpackChunkDLIA_client||[]).push([[306],{3306:(L,u,e)=>{e.r(u),e.d(u,{LoginUserComponent:()=>Z});var _=e(7392),h=e(782),d=e(4144),c=e(4859),s=e(9549),m=e(6895),g=e(2510),i=e(4006),p=e(7009),f=e(1572),o=e(4650),E=e(789);function P(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1,"Email is required"),o.qZA())}function v(t,a){1&t&&(o.TgZ(0,"mat-error"),o._uU(1,"Password is required"),o.qZA())}function U(t,a){1&t&&(o.TgZ(0,"mat-icon"),o._UZ(1,"mat-spinner",26),o.qZA())}function C(t,a){1&t&&(o.TgZ(0,"span"),o._uU(1,"Sign in"),o.qZA())}let Z=(()=>{class t{constructor(r,n,l,T){this.formBuilder=r,this.authService=n,this.router=l,this.snackBar=T,this.isLoggedIn=!1,this.isLoginFailed=!1,this.hidePassword=!0,this.alertStyle="alert",this.alertErrorMessage="",this.loading=!1,this.loginForm=this.formBuilder.group({Email:["",[i.kI.required,i.kI.email]],Password:["",[i.kI.required,i.kI.minLength(8)]]})}ngOnInit(){}onSubmit(){if(this.loginForm.invalid)return void console.log(this.loginForm);const r={email:this.loginForm.value.Email,password:this.loginForm.value.Password};this.loading=!0,this.authService.signIn(r).subscribe({next:n=>{console.log(n),this.isLoggedIn=!0,this.isLoginFailed=!1,this.router.navigate(["explore"]),this.loading=!1},error:n=>{console.log("007",n),this.loading=!1,this.isLoggedIn=!1,this.isLoginFailed=!0,this.snackBar.open(n.error.msg||n.error.msg?n.error.msg:"An error has occurred. Please try again later.","close",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["custom-style"]})}})}closeAlert(){this.alertStyle="alert hide"}}return t.\u0275fac=function(r){return new(r||t)(o.Y36(i.qu),o.Y36(E.e),o.Y36(g.F0),o.Y36(p.ux))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-login-user"]],standalone:!0,features:[o.jDz],decls:41,vars:12,consts:[[1,"text-white","px-6","py-4","border-0","rounded","mb-4","bg-red-500","bg-opacity-90",3,"ngClass"],[1,"text-xl","inline-block","mr-5","align-middle"],[1,"inline-block","align-middle","mr-8"],[1,"inline-block","align-middle"],[1,"cursor-pointer",3,"click"],[1,"h-screen","flex"],[1,"container","flex","mx-auto","m-auto","sm:w-full","md:w-11/12","lg:w-4/6","bg-white","rounded-xl","mx-auto","overflow-hidden","shadow-[0_0px_15px_rgba(0,0,0,0.15)]"],[1,"w-0","md:w-1/2"],["src","../../../../../assets/images/ev.png","alt","ev",2,"width","auto","height","100%"],[1,"w-full","md:w-1/2"],["src","../../../../../assets/images/dvl3.svg","alt","DeepVoltLogo",1,"m-auto","my-12","w-48","md:w-52"],[3,"formGroup","ngSubmit"],[1,"relative"],[1,"grid","grid-cols-1","gap-y-0","px-8","md:px-10"],["appearance","outline",1,"pb-0"],["matInput","","formControlName","Email","placeholder","Email","type","email"],[4,"ngIf"],["appearance","outline"],["matInput","","formControlName","Password","placeholder","Password",3,"type"],["matSuffix","",3,"click"],[1,"absolute","right-0","px-16","z-10"],["routerLink","/forgot-password",1,"underline","cursor-pointer",2,"color","#335579"],[1,"relative","w-full","flex","justify-center","py-12","w-full","m-y-0","m-x-auto","px-8"],["type","submit","mat-raised-button","",1,"md:w-auto","w-full",3,"disabled"],[1,"text-center"],["routerLink","/register",1,"underline","cursor-pointer",2,"color","#335579"],["diameter","20"]],template:function(r,n){1&r&&(o.TgZ(0,"div",0)(1,"span",1)(2,"mat-icon"),o._uU(3,"report"),o.qZA()(),o.TgZ(4,"span",2),o._uU(5),o.qZA(),o.TgZ(6,"span",3)(7,"mat-icon",4),o.NdJ("click",function(){return n.closeAlert()}),o._uU(8,"close"),o.qZA()()(),o.TgZ(9,"div",5)(10,"div",6)(11,"div",7),o._UZ(12,"img",8),o.qZA(),o.TgZ(13,"div",9),o._UZ(14,"img",10),o.TgZ(15,"form",11),o.NdJ("ngSubmit",function(){return n.onSubmit()}),o.TgZ(16,"div",12)(17,"div",13)(18,"mat-form-field",14)(19,"mat-label"),o._uU(20,"Email"),o.qZA(),o._UZ(21,"input",15),o.YNc(22,P,2,0,"mat-error",16),o.qZA(),o.TgZ(23,"mat-form-field",17)(24,"mat-label"),o._uU(25,"Password"),o.qZA(),o._UZ(26,"input",18),o.TgZ(27,"mat-icon",19),o.NdJ("click",function(){return n.hidePassword=!n.hidePassword}),o._uU(28),o.qZA(),o.YNc(29,v,2,0,"mat-error",16),o.qZA()(),o.TgZ(30,"div",20)(31,"a",21),o._uU(32,"Forgot password?"),o.qZA()(),o.TgZ(33,"div",22)(34,"button",23),o.YNc(35,U,2,0,"mat-icon",16),o.YNc(36,C,2,0,"span",16),o.qZA()(),o.TgZ(37,"p",24),o._uU(38," New here? "),o.TgZ(39,"a",25),o._uU(40,"Create account"),o.qZA()()()()()()()),2&r&&(o.Q6J("ngClass",n.alertStyle),o.xp6(5),o.hij(" ",n.alertErrorMessage," "),o.xp6(10),o.Q6J("formGroup",n.loginForm),o.xp6(7),o.Q6J("ngIf",n.loginForm.controls.Email.hasError("required")||n.loginForm.controls.Email.hasError("email")),o.xp6(4),o.Q6J("type",n.hidePassword?"password":"text"),o.xp6(2),o.Oqu(n.hidePassword?"visibility_off":"visibility"),o.xp6(1),o.Q6J("ngIf",n.loginForm.controls.Password.hasError("required")),o.xp6(5),o.Akn(!n.loading&&n.loginForm.valid?"background-color:#335579;color:white;":"background-color:rgba(224,224,224,1);"),o.Q6J("disabled",!n.loginForm.valid),o.xp6(1),o.Q6J("ngIf",n.loading),o.xp6(1),o.Q6J("ngIf",!n.loading))},dependencies:[_.Ps,_.Hw,h.N6,d.c,s.TO,s.KE,s.hX,s.R9,d.Nt,c.ot,c.lW,s.lN,m.ez,m.mk,m.O5,g.Bz,g.rH,i.UX,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,p.ZX,f.Cq,f.$g],styles:[".alert[_ngcontent-%COMP%]{position:fixed;top:-100px;left:50%;transform:translate(-50%)}.alert.show[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_slideIn;animation-duration:.5s;animation-timing-function:ease-out;animation-fill-mode:forwards}@keyframes _ngcontent-%COMP%_slideIn{0%{top:-100px}to{top:0}}.alert.hide[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_slideOut;animation-duration:.5s;animation-timing-function:ease-out;animation-fill-mode:forwards}@keyframes _ngcontent-%COMP%_slideOut{0%{top:0}to{top:-100px}}  .custom-style{background-color:#fe5157;color:#fff}  .mat-simple-snackbar-action>button{color:#fff}"]}),t})()}}]);