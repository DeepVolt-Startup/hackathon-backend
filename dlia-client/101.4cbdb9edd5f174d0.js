"use strict";(self.webpackChunkDLIA_client=self.webpackChunkDLIA_client||[]).push([[101],{7101:(E,m,t)=>{t.r(m),t.d(m,{ConfirmUserComponent:()=>C});var s=t(6895),n=t(4006),a=t(9549),_=t(4859),d=t(4144),l=t(2510),f=t(7392),p=t(7009),e=t(4650),g=t(789);function h(i,c){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"code is required"),e.qZA())}let C=(()=>{class i{constructor(o,r,u){this.authService=o,this.router=r,this.snackBar=u,this.isLinkDisabled=!1,this.email=""}ngOnInit(){this.codeForm=new n.cw({code:new n.NI("",[n.kI.required])}),this.email=history.state.email}confirm(){this.authService.confirm(this.codeForm.getRawValue().code.trim()).subscribe({next:o=>{console.log("here",o),this.router.navigate(["explore"])},error:o=>{console.error(o),this.snackBar.open(o.error.msg?o.error.msg:"An error has occurred. Please try again later.","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["custom-style"]})}})}resentCode(){this.isLinkDisabled=!0,this.authService.resentCode().subscribe({next:o=>{o?this.snackBar.open("code was resent successfully","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"top"}):this.snackBar.open("sonething wrong happened plaese try againe","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["custom-style"]})},error:o=>{console.error(o)}}),setTimeout(()=>{this.isLinkDisabled=!1},3e4)}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(g.e),e.Y36(l.F0),e.Y36(p.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-confirm-user"]],standalone:!0,features:[e.jDz],decls:30,vars:7,consts:[[1,"h-screen","flex"],[1,"container","mx-auto","m-auto","w-1/2","bg-white","rounded-xl","mx-auto","overflow-hidden","px-14","shadow-[0_0px_15px_rgba(0,0,0,0.15)]"],[1,"w-full","flex","flex-col","justify-center","items-center","my-5"],[2,"color","#335579","font-size","80px","width","80px","height","80px","transform","rotate(30deg)"],[1,"text-xl","font-medium",2,"color","#335579"],[2,"color","#838997"],[3,"formGroup","ngSubmit"],[1,"flex","justify-center","items-center"],["appearance","outline"],["matInput","","formControlName","code","placeholder","code","type","text"],[4,"ngIf"],[1,"relative","w-full","flex","flex-col","justify-center","items-center","pb-3","space-y-5"],["type","submit","mat-raised-button","",3,"disabled"],[1,"cursor-pointer",3,"ngClass","click"],["routerLink","/login",1,"flex","items-center","justify-center","font-medium","cursor-pointer",2,"color","#335579"],[1,"align-middle",2,"font-size","20px","width","20px","height","20px","color","#335579"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),e._uU(4,"key"),e.qZA(),e.TgZ(5,"p",4),e._uU(6," Authenticate Your Account "),e.qZA(),e.TgZ(7,"p",5),e._uU(8," To activate your account, please input the verification code that was sent to you on "),e.qZA(),e.TgZ(9,"p",5),e._uU(10),e.qZA()(),e.TgZ(11,"form",6),e.NdJ("ngSubmit",function(){return r.confirm()}),e.TgZ(12,"div",7)(13,"mat-form-field",8)(14,"mat-label"),e._uU(15,"Code"),e.qZA(),e._UZ(16,"input",9),e.YNc(17,h,2,0,"mat-error",10),e.qZA()(),e.TgZ(18,"div",11)(19,"button",12),e._uU(20," confirm "),e.qZA(),e.TgZ(21,"p"),e._uU(22," Didn't receive the email? "),e.TgZ(23,"a",13),e.NdJ("click",function(){return r.resentCode()}),e._uU(24,"Click to resend"),e.qZA()(),e.TgZ(25,"a",14)(26,"mat-icon",15),e._uU(27,"arrow_back"),e.qZA(),e.TgZ(28,"span"),e._uU(29,"Back to login"),e.qZA()()()()()()),2&o&&(e.xp6(10),e.Oqu(r.email),e.xp6(1),e.Q6J("formGroup",r.codeForm),e.xp6(6),e.Q6J("ngIf",null==r.codeForm.get("code").errors?null:r.codeForm.get("code").errors.required),e.xp6(2),e.Akn("background-color:"+(r.codeForm.valid?"#335579;color:white;":"#E0E0E0;color:D1D1D1;")),e.Q6J("disabled",!r.codeForm.valid),e.xp6(4),e.Q6J("ngClass",r.isLinkDisabled?"disabled-link":"normal-link"))},dependencies:[s.ez,s.mk,s.O5,a.lN,a.TO,a.KE,a.hX,n.u5,n._Y,n.Fj,n.JJ,n.JL,n.UX,n.sg,n.u,_.ot,_.lW,d.c,d.Nt,f.Ps,f.Hw,p.ZX,l.Bz,l.rH],styles:[".disabled-link[_ngcontent-%COMP%]{pointer-events:none;color:#335579}.normal-link[_ngcontent-%COMP%]{color:#335579;font-weight:700;text-decoration:underline}  .custom-style{background-color:#fe5157;color:#fff}  .mat-simple-snackbar-action>button{color:#fff}"]}),i})()}}]);